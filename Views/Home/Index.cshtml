@{
    ViewData["Title"] = "Home Page";
}

<!-- Đoạn mã HTML -->
<button id="joinGameButton">Tham gia vào trò chơi</button>
<p id="gameResult"></p>
<p id="countdownTimer"></p>

<!-- Đoạn mã JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.13/signalr.min.js"></script>
<script>
    const connection = new signalR.HubConnectionBuilder()
        .withUrl("/randomGameHub")
        .build();

    connection.on("GameStarted", (message) => {
        alert(message);
        document.getElementById("gameResult").textContent = "";
        document.getElementById("countdownTimer").textContent = "";
    });

    connection.on("CountdownUpdate", (remainingSeconds) => {
        document.getElementById("countdownTimer").textContent = "Countdown: " + remainingSeconds + " seconds";
    });

    connection.on("CountdownFinished", (randomNumber) => {
        document.getElementById("countdownTimer").textContent = "";
        document.getElementById("gameResult").textContent = "Random Number: " + randomNumber;
    });

    document.getElementById("joinGameButton").addEventListener("click", () => {
        connection.invoke("JoinRandomGame");
    });

    connection.start().then(() => {
        // Kết nối đã được thiết lập
    }).catch(err => console.error(err.toString()));
</script>
